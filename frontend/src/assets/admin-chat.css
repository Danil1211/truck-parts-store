/* ===== базовая сетка — без скруглений и лишних отступов ===== */
.admin-chat-page {
  padding: 0; /* убрали внешние отступы */
}
.admin-chat-root {
  display: grid;
  grid-template-columns: 320px 1fr 360px;
  gap: 0;
  height: calc(100vh - 72px); /* высота минус верхняя шапка админки */
  background: #fff;
}

/* колонки — сплошные панели, без скруглений */
.chat-sidebar,
.chat-main,
.user-panel {
  border: 0;
  border-right: 1px solid #eef0f3;
  border-radius: 0;
}
.user-panel { border-right: 0; border-left: 1px solid #eef0f3; }
.chat-sidebar, .user-panel { background: #fafbfc; }
.chat-main { background: #fff; }

/* ===== левая колонка ===== */
.chat-sidebar {
  display: flex;
  flex-direction: column;
  min-width: 280px;
}
.chat-sidebar__head {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  border-bottom: 1px solid #eef0f3;
}
.chat-sidebar__head h2 {
  font-weight: 600;
  font-size: 16px;
  margin: 0;
}
.chat-search {
  flex: 1;
  height: 34px;
  padding: 0 10px;
  border: 1px solid #e3e6ea;
  background: #fff;
  border-radius: 8px;
  outline: none;
}
.chat-empty-left {
  padding: 14px;
  color: #8e98a3;
  font-size: 13px;
}
.chat-item {
  display: grid;
  grid-template-columns: 40px 1fr 24px;
  gap: 10px;
  padding: 10px 12px;
  border-bottom: 1px solid #f0f2f5;
  cursor: pointer;
}
.chat-item.selected { background: #eef6ff; }
.chat-avatar {
  width: 40px; height: 40px; border-radius: 50%;
  display: grid; place-items: center; font-weight: 600;
  color: #fff; background: #5b8def; position: relative;
}
.chat-unread-dot {
  position: absolute; right: -2px; top: -2px;
  width: 10px; height: 10px; border-radius: 50%;
  background: #ff4d4f; border: 2px solid #fff;
}
.chat-meta { overflow: hidden; }
.chat-title { display:flex; align-items:center; gap:8px; }
.chat-name { font-weight: 600; }
.chat-new { font-size: 10px; color: #fff; background:#ff4d4f; padding:2px 6px; border-radius:999px; }
.chat-phone { color:#8e98a3; font-size:12px; margin-top:2px; }
.chat-last { color:#57606a; font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.chat-delete {
  background: transparent; border: 0; color: #a1acb6; font-size:18px; cursor: pointer;
}
.chat-delete:hover { color:#ff4d4f; }

/* ===== центр ===== */
.chat-main { display: flex; flex-direction: column; }
.chat-topbar {
  display:flex; justify-content: space-between; align-items:center;
  padding: 12px 16px; border-bottom: 1px solid #eef0f3;
}
.chat-topbar__title strong { font-weight: 700; font-size: 16px; }
.chat-topbar__actions { display:flex; align-items:center; gap:10px; position:relative; }
.btn {
  height: 30px; padding: 0 10px; border-radius: 8px; border:1px solid #e3e6ea;
  background:#fff; cursor:pointer; font-size:13px;
}
.btn.ghost:hover { background:#f3f5f7; }

.quick-wrap { position: relative; }
.quick-menu {
  position: absolute; right:0; top:36px; min-width: 220px;
  background:#fff; border:1px solid #e3e6ea; border-radius: 10px; box-shadow: 0 8px 22px rgba(0,0,0,.06);
  z-index: 10; overflow:hidden;
}
.quick-item {
  padding: 10px 12px; cursor:pointer; font-size: 13px;
}
.quick-item:hover { background:#f5f7fa; }

.thread {
  flex:1; overflow:auto; padding: 12px 16px;
}

/* сообщения */
.bubble {
  max-width: 560px; padding: 8px 10px; margin: 8px 0;
  background: #f5f7fa; border-radius: 12px;
}
.bubble.in { margin-left: auto; background: #e8f0ff; }
.bubble-author { font-size:12px; color:#8e98a3; margin-bottom:4px; }
.bubble-text { white-space: pre-wrap; line-height: 1.4; }
.bubble-img { display:block; max-width: 280px; border-radius:10px; margin-top: 6px; }
.bubble-time { color:#8e98a3; font-size:11px; margin-top: 4px; }

/* typing */
.typing { color:#57606a; font-size:13px; display:flex; align-items:center; gap:4px; margin-top:6px; }
.typing-dots { display:inline-block; width: 14px; text-align:left; }

/* превью картинок/аудио */
.previews { display:flex; gap:10px; padding: 8px 16px; border-top:1px dashed #eef0f3; }
.preview { position:relative; width:72px; height:72px; border:1px solid #e3e6ea; border-radius:10px; overflow:hidden; }
.preview img { width:100%; height:100%; object-fit:cover; }
.preview__close, .audio-preview .preview__close {
  position:absolute; right:4px; top:2px; border:0; background:#0009; color:#fff; width:20px; height:20px; border-radius:50%; cursor:pointer;
}
.audio-preview { display:flex; align-items:center; gap:8px; }
.audio-preview__label { font-size:12px; color:#57606a; }

/* composer */
.composer {
  display:flex; align-items:center; gap:8px;
  border-top: 1px solid #eef0f3; padding: 10px 12px;
}
.icon-btn {
  width: 36px; height: 36px; display:grid; place-items:center;
  border: 1px solid #e3e6ea; background:#fff; border-radius: 10px; cursor:pointer;
}
.icon-btn--disabled { opacity:.5; pointer-events:none; }
.composer__input {
  flex:1; height: 36px; border:1px solid #e3e6ea; border-radius: 10px;
  padding: 0 12px; outline:none;
}
.send-btn {
  width: 40px; height: 36px; display:grid; place-items:center; border: 1px solid #dbe0e6; border-radius: 10px;
  background:#1a73e8; color:#fff;
}
.send-btn:disabled { opacity:.6; }
.mic--rec { border-color:#ff9a9a; }
.voice-bubble { display:flex; align-items:center; gap:10px; }
.voice-bar { width: 160px; height: 6px; border-radius:6px; background:#e8edf3; overflow:hidden; }
.voice-bar-bg { width:40%; height:100%; background:#5b8def; opacity:.5; }

/* emoji */
.emoji-popover { position:absolute; bottom: 70px; left: 16px; z-index: 5; }

/* ===== правая колонка ===== */
.user-panel { display:flex; flex-direction:column; }
.user-card { display:flex; align-items:center; gap:10px; padding: 12px 14px; border-bottom:1px solid #eef0f3; background:#fff; }
.user-avatar {
  width: 42px; height: 42px; border-radius:50%; display:grid; place-items:center;
  color:#fff; background:#36c; font-weight:700;
}
.user-name { font-weight:700; }
.user-props { padding: 12px 14px; display:grid; gap:8px; }
.user-props b { color:#57606a; }
.pill {
  display:inline-block; padding: 2px 8px; font-size: 12px; border-radius: 999px;
  color:#fff;
}
.pill--ok { background:#31c48d; }
.pill--bad { background:#ef4444; }

.block-btn {
  margin: 10px 14px 14px; height: 36px; border-radius: 10px; border:0; color:#fff; cursor:pointer;
}
.block-btn--red { background:#ef4444; }
.block-btn--green { background:#22c55e; }
