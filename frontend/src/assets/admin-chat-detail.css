:root{
  --tg-blue:#2291ff;
  --bg:#f6f8fb;
  --card:#ffffff;
  --line:#e6eaf2;
  --text:#0f172a;
  --muted:#667085;
  --bubble-in:var(--tg-blue);
  --bubble-out:#eef5ff;
  --shadow-sm:0 1px 6px rgba(16,24,40,.06);
}

/* ====== ГЛАВНЫЙ КОНТЕЙНЕР ЧАТА ====== */
.admin-chat-page{
  width:100%;                 /* НИКАКОГО 100vw */
  height:100dvh;              /* занимаем видимую высоту окна */
  overflow:hidden;            /* запрет скролла у страницы чата */
  background:transparent;
  box-sizing:border-box;
}

/* Внутренняя раскладка (3 колонки) */
.admin-chat-root{
  display:grid;
  grid-template-columns: 280px 1fr 360px;
  gap:16px;
  height:100%;                /* растянули на всю высоту страницы чата */
  overflow:hidden;            /* колонкам отдаём свои скроллы */
  padding:0 16px 16px;        /* лёгкие внутренние отступы */
  box-sizing:border-box;
}

/* ====== ЛЕВАЯ КОЛОНКА (список чатов) ====== */
.chat-sidebar{
  background:var(--card);
  border:1px solid var(--line);
  /* без скруглений */
  border-radius:0;
  overflow:auto;              /* СКРОЛЛ только внутри */
  min-height:0;               /* важный фикс для grid */
}

.chat-sidebar__head{
  position:sticky; top:0; z-index:1;
  background:#fff; border-bottom:1px solid var(--line);
  padding:12px 12px;
}

/* ====== ЦЕНТР (диалог) ====== */
.chat-main{
  display:flex;
  flex-direction:column;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:0;
  overflow:hidden;            /* убрали скролл у блока */
  min-height:0;
}

.chat-topbar{
  flex:0 0 auto;
  border-bottom:1px solid var(--line);
  padding:12px 16px;
  background:#fff;
}

.thread{
  flex:1 1 auto;              /* занимает всё свободное */
  overflow:auto;              /* СКРОЛЛ ТОЛЬКО ТУТ */
  padding:16px;
  min-height:0;               /* чтобы overflow работал в grid/flex */
}

/* пузыри/медиа */
.bubble{max-width:72%; padding:10px 14px; box-shadow:var(--shadow-sm);}
.bubble.in{background:var(--bubble-in); color:#fff;}
.bubble.out{background:var(--bubble-out); color:#0f172a;}
.bubble-img{max-width:220px; display:block}

/* поле ввода закреплено внутри чата (не вызывает скролл body) */
.composer{
  flex:0 0 auto;
  border-top:1px solid var(--line);
  padding:10px 12px;
  background:#fff;
  display:flex; align-items:center; gap:10px;
}

/* ====== ПРАВАЯ КОЛОНКА (карточка) ====== */
.user-panel{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:0;
  overflow:auto;              /* свой скролл */
  min-height:0;
  padding:12px;
}

/* карточка сверху закрепляем */
.user-card{position:sticky; top:0; background:#fff; padding-bottom:8px;}

/* Мелкие утилиты */
.chat-empty, .chat-empty-left{padding:16px; color:#667085}
.muted{opacity:.7}

/* иконки у поля ввода — базовая сетка, свои svg подставляй */
.icon-btn{border:0;background:#f4f6f9;width:36px;height:36px;border-radius:8px;cursor:pointer;display:grid;place-items:center}
.icon-btn:hover{background:#eef2f7}
.send-btn{width:38px;height:38px;border-radius:50%;border:0;background:linear-gradient(135deg,var(--tg-blue),#5bb6ff);color:#fff;cursor:pointer}
.composer__input{flex:1;min-width:0;border:1px solid var(--line);border-radius:999px;padding:10px 14px;outline:none}
.composer__input:focus{border-color:#bfdcff;box-shadow:0 0 0 4px rgba(34,145,255,.08)}
