/* frontend/src/assets/AdminGroupsPage.css */
/* ==========================================================================
   Groups — compact toolbar + centered paginator + spinners
   ========================================================================== */

.groups-page { padding-bottom: 16px; }

/* fixed page topbar */
.groups-topbar{
  position:fixed; top:var(--topbar-h); left:calc(var(--sidebar-w) + var(--submenu-w)); right:0; height:64px;
  display:flex; align-items:center; gap:12px; padding:0 16px; background:#fff;
  border-bottom:1px solid rgba(0,0,0,.06); box-shadow:0 1px 2px rgba(0,0,0,.04); z-index:130;
}
@media (max-width:1100px){ .groups-topbar{ left:var(--sidebar-w) } }

.groups-h1{ font-weight:400; font-size:17px; color:#0f172a; letter-spacing:.2px; white-space:nowrap }
.groups-h1 .count{ color:#117fff }
.groups-search{
  flex:0 1 320px; width:320px; max-width:42vw;
  height:36px; line-height:36px; padding:0 14px 0 34px; border-radius:10px; border:1px solid #d0d7e2;
  background:#f9fbfd url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%2364758b' stroke-width='2' viewBox='0 0 24 24'%3E%3Ccircle cx='11' cy='11' r='7'/%3E%3Cline x1='16.5' y1='16.5' x2='21' y2='21'/%3E%3C/svg%3E") 10px 50% no-repeat;
  background-size:14px; font-size:14px; color:#0f172a; box-shadow:inset 0 1px 2px rgba(0,0,0,.05); transition:all .2s ease;
}
.groups-search:focus{ border-color:#007aff; background-color:#fff; box-shadow:0 0 0 3px rgba(0,122,255,.15); outline:none }
.flex-spacer{ flex:1 1 auto }
.add-btn{ height:36px; padding:0 14px; border-radius:10px; font-size:14px; margin-left:8px }

/* отступ под топбаром */
.groups-body{ padding: 14px 0 12px; }

/* unified card */
.groups-card{
  width:100%;
  background:#fff; border-radius:0; box-shadow:0 2px 12px #2291ff11;
  overflow:hidden;
  display:grid; grid-template-columns:420px 1fr; gap:0; min-height:520px;
}
@media (max-width:980px){ .groups-card{ grid-template-columns:1fr } }

/* columns */
.col-left{ border-right:1px solid #eef2f7; padding:18px 0 18px 16px }
@media (max-width:980px){ .col-left{ border-right:none; border-bottom:1px solid #eef2f7 } }
.col-right{ padding:16px 16px; max-height:calc(100vh - 172px); overflow:auto }

/* texts */
.right-title{ font-weight:600; font-size:17px; color:#0f172a; margin-bottom:10px }
.muted{ color:#96a2b3; font-size:14px }
.muted.center{ text-align:center }
.muted.center.big{ margin:48px 0 32px; font-size:16px }
.empty{ margin-top:12px }

/* tree (left) */
.tree{ display:flex; flex-direction:column; gap:10px }
.group-row{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 10px; border-radius:12px; background:#f7fafd; border:1.5px solid transparent; cursor:pointer;
  transition:background .18s, border-color .18s, box-shadow .18s; color:#232a3b; margin-right:16px;
}
.group-row:hover{ background:#fff; border-color:#d0d7e2; box-shadow:0 2px 8px rgba(0,0,0,.04) }
.group-row.selected{ background:#eaf4ff; border-color:#2291ff44; color:#157ce8 }
.group-left{ display:flex; align-items:center; gap:10px; min-width:0 }
.group-name{ font-size:15px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.g-thumb{ width:36px; height:36px; border-radius:7px; object-fit:cover; background:#e9f3fa; flex:0 0 auto }
.g-fallback{ width:36px; height:36px; flex:0 0 auto }
.g-fallback rect{ fill:#e4e9f3 } .g-fallback path{ fill:none; stroke:#b8c2d3; stroke-width:1.6 }
.chev-btn{ display:inline-flex; align-items:center; justify-content:center; background:transparent; border:none; padding:4px; border-radius:8px; cursor:pointer }
.chev-btn:hover{ background:#f0f4f9 }
.chev-spacer{ display:inline-block; width:22px; height:22px }
.g-chevron{ width:18px; height:18px; transition:transform .16s ease }
.g-chevron.open{ transform:rotate(90deg) }
.group-actions{ display:flex; align-items:center; gap:6px; padding-right:2px }
.icon-btn{ background:transparent; border:none; padding:6px; border-radius:8px; cursor:pointer; transition:background .18s ease }
.icon-btn:hover{ background:#f0f4f9 }
.icon-btn .icon{ width:18px; height:18px; stroke:#117fff; fill:none; stroke-width:2 }
.icon-btn.danger .icon{ stroke:#e33c3c }

/* products toolbar */
.product-toolbar{
  display:flex; align-items:center; gap:8px; flex-wrap:wrap; margin:0 0 6px;
}
.input-with-icon{ position:relative; }
.input-with-icon input{
  width:260px; max-width:40vw; height:34px;
  padding:0 32px 0 34px; border:1px solid #d0d7e2; border-radius:10px;
  background:#fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%2364758b' stroke-width='2' viewBox='0 0 24 24'%3E%3Ccircle cx='11' cy='11' r='7'/%3E%3Cline x1='16.5' y1='16.5' x2='21' y2='21'/%3E%3C/svg%3E") 10px 50% no-repeat;
  background-size:14px; font-size:13.5px; color:#0f172a; transition:border .2s, box-shadow .2s;
}
.input-with-icon input:focus{ border-color:#007aff; box-shadow:0 0 0 3px rgba(0,122,255,.12); outline:none }
.input-with-icon .clear{
  position:absolute; right:6px; top:50%; transform:translateY(-50%);
  width:24px; height:24px; border-radius:8px; border:0; background:#eef3f9; cursor:pointer; font-size:16px; line-height:24px;
}

/* segmented buttons (без Черн.) */
.seg{ display:inline-flex; align-items:center; gap:0; border:1px solid #d0d7e2; border-radius:10px; overflow:hidden; background:#fff }
.seg button{
  height:34px; padding:0 10px; font-size:13.5px; color:#334155; border:0; background:transparent; cursor:pointer;
}
.seg button + button{ border-left:1px solid #e6eaf1 }
.seg button:hover{ background:#f5f8fc }
.seg button.on{ background:#eaf4ff; color:#117fff; font-weight:600 }
.toolbar-spacer{ flex:1 1 auto; }

/* product list row */
.prod-row{
  display:grid; grid-template-columns:60px 1fr 140px 44px; align-items:center; gap:14px;
  padding:10px 0; border-bottom:1px solid #f0f3f8; transition:background .15s;
}
.prod-row:hover{ background:#f9fbff }
.pr-thumb{ width:56px; height:56px; border-radius:12px; object-fit:contain; background:#f1f5f9 }
.pr-info{ min-width:0; }
.pr-name{ display:inline-block; text-align:left; background:transparent; border:0; padding:0; margin:0;
  font-size:15px; color:#0f172a; cursor:pointer; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.pr-name.link:hover{ color:#0a84ff; text-decoration:underline; }
.pr-sku{ color:#96a2b3; font-size:13px; margin-top:2px }
.pr-availability{ justify-self:end }
.pill{ display:inline-flex; align-items:center; height:24px; padding:0 10px; border-radius:999px; font-size:12.5px; border:1px solid transparent; }
.pill.good{ background:#e9f9f0; color:#15803d; border-color:#b7f0cc }
.pill.warn{ background:#fff7e6; color:#b76a00; border-color:#f7d9a5 }
.pill.bad{  background:#ffecec; color:#d12a2a; border-color:#f3b5b5 }

.pr-edit{ justify-self:end; background:transparent; border:1px solid #2291ff; border-radius:10px; padding:6px 8px; cursor:pointer; }

/* paginator — центр */
.pager-min{
  display:flex; align-items:center; justify-content:center; gap:12px;
  position:sticky; bottom:0; padding:10px 0 8px; margin-top:10px;
  background:linear-gradient(to top, #fff 78%, rgba(255,255,255,0));
  border-top:1px solid #eef2f7;
}
.pager-min-left{ display:flex; align-items:center; gap:8px }
.pg-ctrl{
  width:36px; height:36px; border-radius:12px;
  border:1px solid #e6ecf4; background:#fff; color:#334155; cursor:pointer;
  display:flex; align-items:center; justify-content:center; font-size:17px; line-height:1;
  box-shadow:0 1px 2px rgba(0,0,0,.03);
}
.pg-ctrl:disabled{ opacity:.5; cursor:default }
.pg-ctrl:hover:not(:disabled){ background:#f7f9fc }
.pg-current{
  min-width:36px; height:36px; padding:0 10px; border-radius:12px;
  background:#117fff; color:#fff; display:flex; align-items:center; justify-content:center;
  font-weight:600; font-size:15px; box-shadow:0 6px 22px rgba(17,127,255,.22);
}
.pg-size{
  height:36px; border:1px solid #e6ecf4; border-radius:12px; background:#fff;
  display:flex; align-items:center; padding:0 12px; position:relative;
}
.pg-size select{
  appearance:none; border:0; background:transparent; padding-right:18px; height:34px; font-size:14px; color:#0f172a; cursor:pointer;
}
.pg-size::after{
  content:""; position:absolute; right:10px; top:50%; width:10px; height:10px; pointer-events:none;
  transform:translateY(-50%); background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%2364758b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E")
    center/10px 10px no-repeat;
}

/* empty state */
.empty-state{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; padding:40px 12px; text-align:center; color:#64748b }
.empty-state svg{ width:72px; height:72px }
.empty-state svg rect{ fill:#f3f6fb } .empty-state svg path{ fill:none; stroke:#a8c9ff; stroke-width:2.2 }
.empty-state .empty-title{ font-size:16px; color:#0f172a; font-weight:600 }
.empty-state .btn-primary{ margin-top:4px; padding:10px 16px; border-radius:10px }

/* ── spinners (красивый кружок) ───────────────────────────────────────── */
.loader-wrap{
  display:flex; align-items:center; justify-content:center;
  min-height:160px; padding:16px 0;
}
.spinner{
  width:28px; height:28px; border-radius:50%;
  border:3px solid #eaf1fb; border-top-color:#117fff;
  animation:spin .9s linear infinite;
  box-shadow:0 6px 18px rgba(17,127,255,.18);
}
.spinner.spinner-lg{ width:34px; height:34px; border-width:3.5px }
@keyframes spin{ to{ transform:rotate(360deg) } }

/* skeleton (оставил если вдруг пригодится) */
.prod-row.sk{ grid-template-columns:60px 1fr 140px 44px; gap:14px; padding:10px 0 }
.sk-thumb,.sk-line,.sk-pill,.sk-btn{ background:linear-gradient(90deg,#eef2f7,#f6f9fc,#eef2f7); background-size:200% 100%; animation:sh 1.3s infinite }
.sk-thumb{ width:56px; height:56px; border-radius:12px }
.sk-line{ height:16px; border-radius:8px }
.sk-pill{ width:110px; height:24px; border-radius:999px; justify-self:end }
.sk-btn{ width:32px; height:26px; border-radius:8px; justify-self:end }
@keyframes sh{ 0%{background-position:0 0} 100%{background-position:200% 0} }

/* modal */
.modal-overlay{position:fixed;inset:0;z-index:1001;display:flex;align-items:center;justify-content:center;background:rgba(15,23,42,.25);backdrop-filter:blur(3px)}
.modal{position:relative;background:#fff;border-radius:16px;padding:34px;min-width:330px;box-shadow:0 8px 44px #174ec32f}
.modal-title{font-size:20px;margin-bottom:18px;font-weight:700;color:#0f172a}
.modal-title.danger{ color:#ff3333 }
.modal-text{ color:#333; font-size:14px; margin:10px 0 18px; text-align:center; line-height:1.4 }
.modal-actions{ display:flex; gap:12px; justify-content:center }
.btn-ghost{ background:#eaf4ff; color:#157ce8; border:1px solid #cfe0fb; border-radius:8px; padding:9px 22px; cursor:pointer }
.btn-primary.danger{ background:linear-gradient(180deg,#ff5a5a,#e12a2a) }
.highlight{ color:#2291ff }
